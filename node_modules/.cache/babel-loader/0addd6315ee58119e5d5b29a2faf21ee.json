{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/projetos/volanty/src/components/card/Badge.js\";\nimport React, { Component } from 'react';\nimport '../../App.scss';\nconst endpoint = '//www.carimagery.com/api.asmx/GetImageUrl?searchTerm=';\nconst imageDefault = 'http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png';\n\nclass Badge extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageURL: imageDefault\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.keywords !== '') {\n      this.getCarImage(this.props.keywords);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.keywords !== prevProps.keywords) {\n      if (this.props.keywords !== '') {\n        this.getCarImage(this.props.keywords);\n      }\n    }\n  }\n\n  getCarImage(keyword) {\n    if (keyword === '' || keyword === undefined) return false;\n    fetch(endpoint + keyword).then(response => response.text()).then(str => new window.DOMParser().parseFromString(str, \"text/xml\")).then(data => {\n      let srcTag = data.getElementsByTagName(\"string\")[0] || false;\n      let src = srcTag ? srcTag.childNodes[0] : false;\n\n      if (src) {\n        this.setState({\n          imageURL: src.nodeValue\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Badge\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      className: \"Badge__box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"Badge__image\",\n      alt: \"\",\n      src: this.state.imageURL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Badge;","map":{"version":3,"sources":["/Users/macbook/projetos/volanty/src/components/card/Badge.js"],"names":["React","Component","endpoint","imageDefault","Badge","constructor","props","state","imageURL","componentDidMount","keywords","getCarImage","componentDidUpdate","prevProps","keyword","undefined","fetch","then","response","text","str","window","DOMParser","parseFromString","data","srcTag","getElementsByTagName","src","childNodes","setState","nodeValue","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,gBAAP;AAEA,MAAMC,QAAQ,GAAG,uDAAjB;AACA,MAAMC,YAAY,GAAG,sEAArB;;AAEA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAC1BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAEL;AADD,KAAb;AAGH;;AAEDM,EAAAA,iBAAiB,GAAG;AAChB,QAAG,KAAKH,KAAL,CAAWI,QAAX,KAAwB,EAA3B,EAA+B;AAC3B,WAAKC,WAAL,CAAiB,KAAKL,KAAL,CAAWI,QAA5B;AACH;AACJ;;AAEDE,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAI,KAAKP,KAAL,CAAWI,QAAX,KAAwBG,SAAS,CAACH,QAAtC,EAAgD;AAC5C,UAAI,KAAKJ,KAAL,CAAWI,QAAX,KAAwB,EAA5B,EAAgC;AAC5B,aAAKC,WAAL,CAAiB,KAAKL,KAAL,CAAWI,QAA5B;AACH;AACJ;AACJ;;AAEDC,EAAAA,WAAW,CAACG,OAAD,EAAU;AACjB,QAAGA,OAAO,KAAK,EAAZ,IAAkBA,OAAO,KAAKC,SAAjC,EAA4C,OAAO,KAAP;AAE5CC,IAAAA,KAAK,CAACd,QAAQ,GAAGY,OAAZ,CAAL,CACKG,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,GAAG,IAAK,IAAIC,MAAM,CAACC,SAAX,EAAD,CAAyBC,eAAzB,CAAyCH,GAAzC,EAA8C,UAA9C,CAFjB,EAGKH,IAHL,CAGUO,IAAI,IAAI;AACV,UAAIC,MAAM,GAAGD,IAAI,CAACE,oBAAL,CAA0B,QAA1B,EAAoC,CAApC,KAA0C,KAAvD;AACA,UAAIC,GAAG,GAAIF,MAAD,GAAWA,MAAM,CAACG,UAAP,CAAkB,CAAlB,CAAX,GAAkC,KAA5C;;AACA,UAAGD,GAAH,EAAQ;AACJ,aAAKE,QAAL,CAAc;AAACrB,UAAAA,QAAQ,EAAEmB,GAAG,CAACG;AAAf,SAAd;AACH;AACJ,KATL;AAUH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,GAAG,EAAC,EAAlC;AAAqC,MAAA,GAAG,EAAE,KAAKxB,KAAL,CAAWC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ;AAOH;;AA7CyB;;AAgD9B,eAAeJ,KAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.scss'\n\nconst endpoint = '//www.carimagery.com/api.asmx/GetImageUrl?searchTerm='\nconst imageDefault = 'http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png'\n\nclass Badge extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageURL: imageDefault\n        }\n    }\n\n    componentDidMount() {\n        if(this.props.keywords !== '') {\n            this.getCarImage(this.props.keywords)\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.keywords !== prevProps.keywords) {\n            if (this.props.keywords !== '') {\n                this.getCarImage(this.props.keywords)\n            }\n        }\n    }\n\n    getCarImage(keyword) {\n        if(keyword === '' || keyword === undefined) return false\n\n        fetch(endpoint + keyword)\n            .then(response => response.text())\n            .then(str => (new window.DOMParser()).parseFromString(str, \"text/xml\"))\n            .then(data => {\n                let srcTag = data.getElementsByTagName(\"string\")[0] || false\n                let src = (srcTag) ? srcTag.childNodes[0] : false\n                if(src) {\n                    this.setState({imageURL: src.nodeValue})\n                }\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"Badge\">\n                <figure className=\"Badge__box\">\n                    <img className=\"Badge__image\" alt='' src={this.state.imageURL}/>\n                </figure>\n            </div>\n        );\n    }\n}\n\nexport default Badge;\n"]},"metadata":{},"sourceType":"module"}