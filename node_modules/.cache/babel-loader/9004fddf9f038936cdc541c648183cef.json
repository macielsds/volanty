{"ast":null,"code":"import _classCallCheck from\"/Users/macbook/projetos/volanty/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/macbook/projetos/volanty/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/macbook/projetos/volanty/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/macbook/projetos/volanty/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/macbook/projetos/volanty/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'../../App.scss';var endpoint='//www.carimagery.com/api.asmx/GetImageUrl?searchTerm=';var imageDefault='http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png';var Badge=/*#__PURE__*/function(_Component){_inherits(Badge,_Component);function Badge(props){var _this;_classCallCheck(this,Badge);_this=_possibleConstructorReturn(this,_getPrototypeOf(Badge).call(this,props));_this.state={imageURL:imageDefault};return _this;}_createClass(Badge,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.keywords!==''){this.getCarImage(this.props.keywords);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.keywords!==prevProps.keywords){if(this.props.keywords!==''){this.getCarImage(this.props.keywords);}}}},{key:\"getCarImage\",value:function getCarImage(keyword){var _this2=this;if(keyword===''||keyword===undefined)return false;fetch(endpoint+keyword).then(function(response){return response.text();}).then(function(str){return new window.DOMParser().parseFromString(str,\"text/xml\");}).then(function(data){var srcTag=data.getElementsByTagName(\"string\")[0]||false;var src=srcTag?srcTag.childNodes[0]:false;if(src){_this2.setState({imageURL:src.nodeValue});}});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Badge\"},React.createElement(\"figure\",{className:\"Badge__box\"},React.createElement(\"img\",{className:\"Badge__image\",alt:\"\",src:this.state.imageURL})));}}]);return Badge;}(Component);export default Badge;","map":{"version":3,"sources":["/Users/macbook/projetos/volanty/src/components/card/Badge.js"],"names":["React","Component","endpoint","imageDefault","Badge","props","state","imageURL","keywords","getCarImage","prevProps","keyword","undefined","fetch","then","response","text","str","window","DOMParser","parseFromString","data","srcTag","getElementsByTagName","src","childNodes","setState","nodeValue"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,gBAAP,CAEA,GAAMC,CAAAA,QAAQ,CAAG,uDAAjB,CACA,GAAMC,CAAAA,YAAY,CAAG,sEAArB,C,GAEMC,CAAAA,K,+DACF,eAAYC,KAAZ,CAAmB,uCACf,uEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAEJ,YADD,CAAb,CAFe,aAKlB,C,+EAEmB,CAChB,GAAG,KAAKE,KAAL,CAAWG,QAAX,GAAwB,EAA3B,CAA+B,CAC3B,KAAKC,WAAL,CAAiB,KAAKJ,KAAL,CAAWG,QAA5B,EACH,CACJ,C,8DAEkBE,S,CAAW,CAC1B,GAAI,KAAKL,KAAL,CAAWG,QAAX,GAAwBE,SAAS,CAACF,QAAtC,CAAgD,CAC5C,GAAI,KAAKH,KAAL,CAAWG,QAAX,GAAwB,EAA5B,CAAgC,CAC5B,KAAKC,WAAL,CAAiB,KAAKJ,KAAL,CAAWG,QAA5B,EACH,CACJ,CACJ,C,gDAEWG,O,CAAS,iBACjB,GAAGA,OAAO,GAAK,EAAZ,EAAkBA,OAAO,GAAKC,SAAjC,CAA4C,MAAO,MAAP,CAE5CC,KAAK,CAACX,QAAQ,CAAGS,OAAZ,CAAL,CACKG,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,GAAG,QAAK,IAAIC,CAAAA,MAAM,CAACC,SAAX,EAAD,CAAyBC,eAAzB,CAAyCH,GAAzC,CAA8C,UAA9C,CAAJ,EAFb,EAGKH,IAHL,CAGU,SAAAO,IAAI,CAAI,CACV,GAAIC,CAAAA,MAAM,CAAGD,IAAI,CAACE,oBAAL,CAA0B,QAA1B,EAAoC,CAApC,GAA0C,KAAvD,CACA,GAAIC,CAAAA,GAAG,CAAIF,MAAD,CAAWA,MAAM,CAACG,UAAP,CAAkB,CAAlB,CAAX,CAAkC,KAA5C,CACA,GAAGD,GAAH,CAAQ,CACJ,MAAI,CAACE,QAAL,CAAc,CAACnB,QAAQ,CAAEiB,GAAG,CAACG,SAAf,CAAd,EACH,CACJ,CATL,EAUH,C,uCAEQ,CACL,MACI,4BAAK,SAAS,CAAC,OAAf,EACI,8BAAQ,SAAS,CAAC,YAAlB,EACI,2BAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAC,EAAlC,CAAqC,GAAG,CAAE,KAAKrB,KAAL,CAAWC,QAArD,EADJ,CADJ,CADJ,CAOH,C,mBA7CeN,S,EAgDpB,cAAeG,CAAAA,KAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../../App.scss'\n\nconst endpoint = '//www.carimagery.com/api.asmx/GetImageUrl?searchTerm='\nconst imageDefault = 'http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png'\n\nclass Badge extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            imageURL: imageDefault\n        }\n    }\n\n    componentDidMount() {\n        if(this.props.keywords !== '') {\n            this.getCarImage(this.props.keywords)\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.keywords !== prevProps.keywords) {\n            if (this.props.keywords !== '') {\n                this.getCarImage(this.props.keywords)\n            }\n        }\n    }\n\n    getCarImage(keyword) {\n        if(keyword === '' || keyword === undefined) return false\n\n        fetch(endpoint + keyword)\n            .then(response => response.text())\n            .then(str => (new window.DOMParser()).parseFromString(str, \"text/xml\"))\n            .then(data => {\n                let srcTag = data.getElementsByTagName(\"string\")[0] || false\n                let src = (srcTag) ? srcTag.childNodes[0] : false\n                if(src) {\n                    this.setState({imageURL: src.nodeValue})\n                }\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"Badge\">\n                <figure className=\"Badge__box\">\n                    <img className=\"Badge__image\" alt='' src={this.state.imageURL}/>\n                </figure>\n            </div>\n        );\n    }\n}\n\nexport default Badge;\n"]},"metadata":{},"sourceType":"module"}